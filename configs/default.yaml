experiment:
  name: underwater_ddpm
  output_root: runs
  seed: 42

# Data settings
# Update paths to match your dataset structure
# Expected folders:
#   Train/input, Train/GT, Val/input, Val/GT
# Images are normalized to [-1, 1]
data:
  image_size: 256
  channels: 3
  batch_size: 4
  val_batch_size: 4
  num_workers: 4
  train:
    input_dir: /dataset/Train/input
    target_dir: /dataset/Train/GT
  val:
    input_dir: /dataset/Val/input
    target_dir: /dataset/Val/GT
  augmentation:
    horizontal_flip: true
    color_jitter: false

# Model configuration
model:
  base_channels: 128
  channel_mults: [1, 2, 2, 4]
  num_res_blocks: 2
  dropout: 0.1

# Diffusion process
# beta schedule is linear between beta_start and beta_end
diffusion:
  timesteps: 1000
  beta_start: 0.0001
  beta_end: 0.02

# Optimizer and training schedule
train:
  epochs: 200
  lr: 2.0e-4
  weight_decay: 0.0
  grad_clip: 1.0
  mixed_precision: true
  ema_decay: 0.999
  sample_every: 5  # save example outputs every N epochs

# Sampling config during validation/inference
sampling:
  num_samples: 4
  ddim_steps: 100  # if 0, use full DDPM sampling; >0 enables DDIM
  save_grid: true
